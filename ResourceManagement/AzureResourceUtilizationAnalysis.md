## Analyzing Resource Utilization
1. Built-in tools
  - Diagnostic Logging
  - Metric Counters
  - Azure Advisor
  - Alerting
  - Log Analytics
  - Cost Management
  - Cloudyn

2. Diagnostic Logging
  - Rsource Manager templates can automatically enable Diagnostic Settings at the time of resource creation
    - Ensures a consistency to how settings are configured
  - 3 types
    - Activity logs
      - provide a record of operations from a asubscription elvel executed against the resource
    - Dianostic logs
      - collected within a subscription at the Azure Resource level
      - Not all Azure service have an option for diagnostic logging and the level of detail you can capture varies
    - Application logs/ Guest OS logs
      - logs generated by applications or service within a guest OS
  - Diagnostic settings Configure via:
    - Azure Portal
    - PowerShell
    - Command Line Interface
    - REST API
  - Diagnostic Logs Export
    - Log Analytics
      - A log search and analytics tool that collects logs from vairous sources and correlates the data
      - Features
        - Write queries and create charts and graphs
        - Create alerts based on metric threshold or activity log events
        - Consume pre-built management solutions such as queries and graphs
    - Event Hub
      - A big data streaming platform
      - Event Hub can receive process and transform thousands of events per second
      - Data can be stored or displayed as needed
      - Other features include anomaly detection, live dashboards and applciation logging
    - Azure Storage Account
      - Logs are broken down by subscription, resource gorup, provider and finally date and time with a JSON file called PT1H.json
3. Alerting
  - 2 types
    - Metric Alerts
      - like CPU, memory, disk and network usage
      - Azure-specific metrics like "under DDoS Attack or not"
    - Log Alerts
  - Components
    - Target: Azure Resource
    - Criteria: Logic Conditions
    - Action: Action Group
4. Azure Advisor
  - Makes recommendations based on the last 14 days of usage and targets low utilization systems
  - Recommendations include
    - Eliminating unprovisioned ExpressRoute circuits
    - Deleting or reconfiguring idle virtual network gateways
    - Based on usage, recommending a more appropriate VM size
5. Resource Baseline
  - ARM template
  - Desired State Configuration (DSC)
  - infrastructure as code
  - Change tracking
6. Monitoring Consumption Cost
  - Resource Tagging
  - You can enforce tagging through Azure Policies
7. Cost Management
  - Cloudyn
  - Allows you to view
    - Accumulated costs
    - Cost by resource
    - Daily costs
    - Cost by service
    - Invoice details
  